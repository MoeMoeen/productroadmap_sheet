
---

## Initiative schema: fields, types, where they live

Think of **Initiative** as the single canonical object.

* **Backlog** = all initiatives (all statuses).
* **Roadmap** = subset of approved initiatives linked to a Roadmap (we’ll model that in Step 3).

* **Which sheet type**: Intake (filled mainly by teams and departments), Central (the consolidation and aggreagation of all Intake sheets, operated and owned mainly by the Product team), or both
* **Who edits** (requesters, product, CPO/HoP, backend only)
* **Who only reads** / whether it’s backend-owned / auto-updated

---

### A. Identity & source

| Field               | Type | Sheet                                                            | DB | Derived? | Notes                                                                                          |
| ------------------- | ---- | ---------------------------------------------------------------- | -- | -------- | ---------------------------------------------------------------------------------------------- |
| `id`                | int  | ❌                                                                | ✅  | ❌        | Internal PK (DB-only)                                                                          |
| `initiative_key`    | str  | ✅ Intake & Central (read-only; generated/updated by backend)     | ✅  | ✅        | Human-friendly ID (e.g. `INIT-2025-001`) exposed to org; generated by backend, not user-edited |
| `source_sheet_id`   | str  | ✅ Central only (hidden; read-only; set by backend)               | ✅  | ✅        | Which sheet this came from (e.g. Google Sheet ID), set by backend                              |
| `source_tab_name`   | str  | ✅ Central only (read-only; set by backend from intake sheet/tab) | ✅  | ✅        | Department/country tab (e.g. `"UK_Sales_Intake"`), set by backend                              |
| `source_row_number` | int  | ✅ Central only (hidden; read-only; set by backend)               | ✅  | ✅        | Helps track back to exact row; set by backend                                                  |

Most of these are not typed by users; you fill them when syncing.

---

### B. Ownership & requester

| Field                | Type            | Sheet                                                                                | DB | Derived? | Notes                                                   |
| -------------------- | --------------- | ------------------------------------------------------------------------------------ | -- | -------- | ------------------------------------------------------- |
| `title`              | str             | ✅ Intake (edit: requesters) + Central (edit: product; read-only for other viewers)   | ✅  | ❌        | Short, descriptive initiative title                     |
| `requesting_team`    | str (enum)      | ✅ Intake (edit: requesters) + Central (edit: product; read-only for others)          | ✅  | ❌        | e.g. `Sales`, `Ops`, `Marketing`                        |
| `requester_name`     | str             | ✅ Intake (edit: requesters) + Central (read-only; copied from intake / backend sync) | ✅  | ❌        | Who raised it                                           |
| `requester_email`    | str             | ✅ Intake (edit: requesters) + Central (read-only; copied from intake / backend sync) | ✅  | ❌        | For notifications / clarifications                      |
| `country` / `market` | str (enum/code) | ✅ Intake (edit: requesters) + Central (edit: product; read-only for others)          | ✅  | ❌        | e.g. `UK`, `AE`, `BR` (we can later normalize to codes) |
| `product_area`       | str (enum)      | ✅ Intake (edit: requesters) + Central (edit: product; read-only for others)          | ✅  | ❌        | e.g. `Checkout`, `Pricing`, `Onboarding`                |

---

### C. Problem & context

| Field               | Type | Sheet                                                                                                       | DB | Derived? | Notes                                                                    |
| ------------------- | ---- | ----------------------------------------------------------------------------------------------------------- | -- | -------- | ------------------------------------------------------------------------ |
| `problem_statement` | str  | ✅ Intake (edit: requesters) + Central (edit: product; read-only for others)                                 | ✅  | ❌        | “What problem is this solving?”                                          |
| `current_pain`      | str  | ✅ Intake (edit: requesters) + Central (edit: product; read-only for others)                                 | ✅  | ❌        | Optional extra context, pain description                                 |
| `desired_outcome`   | str  | ✅ Intake (edit: requesters) + Central (edit: product; read-only for others)                                 | ✅  | ❌        | Outcome/user benefit in words                                            |
| `target_metrics`    | str  | ✅ Intake (edit: requesters) + Central (edit: product; read-only for others)                                 | ✅  | ❌        | Free-text at intake (we’ll later structure it)                           |
| `hypothesis`        | str  | ✅ Intake (optional; edit: requesters) + Central (edit: product; read-only for others; can be LLM-suggested) | ✅  | ❌        | Explicit cause–effect hypothesis; can be LLM-suggested then human-edited |
| `llm_summary`       | str  | ✅ Central only (read-only; auto-generated/updated by backend via LLM; visible to all)                       | ✅  | ✅        | Short 2–3 line summary generated by LLM from the long text               |


llm_summary is derived: API writes it, users see it but don’t edit manually.

---

### D. Strategic alignment & classification

| Field                            | Type        | Sheet                                                                                                   | DB                                 | Derived? | Notes                                                                                         |
| -------------------------------- | ----------- | ------------------------------------------------------------------------------------------------------- | ---------------------------------- | -------- | --------------------------------------------------------------------------------------------- |
| `strategic_theme`                | str (enum)  | ✅ Intake (edit: requesters) + Central (edit: product; read-only for others)                             | ✅                                  | ❌        | e.g. `Growth`, `Efficiency`, `Risk`, etc.                                                     |
| `customer_segment`               | str (enum)  | ✅ Intake (edit: requesters) + Central (edit: product; read-only for others)                             | ✅                                  | ❌        | e.g. `SMB`, `Enterprise`, `Consumer`                                                          |
| `initiative_type`                | str (enum)  | ✅ Intake (edit: requesters) + Central (edit: product; read-only for others)                             | ✅                                  | ❌        | e.g. `Feature`, `Experiment`, `TechDebt`, `OpsImprovement`                                    |
| `strategic_priority_coefficient` | float       | ✅ Central only (edit: CPO/Head of Product or delegated roles; read-only for others)                     | ✅                                  | ❌        | Multiplier (e.g. default 1.0) to up/down-weight importance; editable only by predefined roles |
| `linked_objectives`              | str or JSON | ✅ Intake (edit: requesters or product as free text/IDs) + Central (edit: product; read-only for others) | ✅ (as JSON/list or relation later) | ❌        | References to business/product objectives; will evolve into proper relations later            |


Later, when we have proper Objective models, linked_objectives can become a relation; for now a comma-separated list or JSON is fine.

---

### E. Impact & value modeling (high-level)

| Field                         | Type       | Sheet                                                                       | DB | Derived? | Notes                                                                         |
| ----------------------------- | ---------- | --------------------------------------------------------------------------- | -- | -------- | ----------------------------------------------------------------------------- |
| `expected_impact_description` | str        | ✅ Intake (edit: requesters) + Central (edit: product; read-only for others) | ✅  | ❌        | Description of expected impact (qualitative)                                  |
| `impact_metric`               | str (enum) | ✅ Intake (edit: requesters) + Central (edit: product; read-only for others) | ✅  | ❌        | Primary metric affected (e.g. `GMV`, `ConversionRate`, `NPS`, `CostPerOrder`) |
| `impact_unit`                 | str        | ✅ Intake (edit: requesters) + Central (edit: product; read-only for others) | ✅  | ❌        | e.g. `%`, `£`, `minutes`, `tickets/week`                                      |
| `impact_low`                  | float      | ✅ Intake (edit: requesters) + Central (edit: product; read-only for others) | ✅  | ❌        | Lower bound of impact (e.g. +1% conv)                                         |
| `impact_expected`             | float      | ✅ Intake (edit: requesters) + Central (edit: product; read-only for others) | ✅  | ❌        | Expected/median impact                                                        |
| `impact_high`                 | float      | ✅ Intake (edit: requesters) + Central (edit: product; read-only for others) | ✅  | ❌        | Upper bound                                                                   |

These are high-level impact fields before we go into “full math model”.
These are the basic parameters that both simple frameworks and Monte Carlo can use.

---

### F. Effort & cost (high-level)

| Field                     | Type       | Sheet                                                                                                    | DB | Derived? | Notes                                                                |
| ------------------------- | ---------- | -------------------------------------------------------------------------------------------------------- | -- | -------- | -------------------------------------------------------------------- |
| `effort_tshirt_size`      | str (enum) | ✅ Intake (edit: requesters/eng) + Central (edit: product/eng; read-only for others)                      | ✅  | ❌        | `XS`, `S`, `M`, `L`, `XL`                                            |
| `effort_engineering_days` | float      | ✅ Intake (optional; edit: eng/requesters) + Central (edit: product/eng; read-only for others)            | ✅  | ❌        | If engineering provides a direct estimate                            |
| `effort_other_teams_days` | float      | ✅ Intake (edit: requesters/other teams) + Central (edit: product; read-only for others)                  | ✅  | ❌        | Design, Ops, CS, etc.                                                |
| `infra_cost_estimate`     | float      | ✅ Intake (optional; edit: requesters/eng/infra) + Central (edit: product/finance; read-only for others)  | ✅  | ❌        | One-off infra/platform cost estimate if any                          |
| `total_cost_estimate`     | float      | ✅ Central only (auto-calculated by backend or sheet formulas; editable/override by product; read by all) | ✅  | ✅        | Derived from effort + infra; you can still store numeric value in DB |


We’ll probably derive total_cost_estimate via a formula (e.g. day rates × days + infra).

---

### G. Risk, dependencies, constraints

| Field                      | Type        | Sheet                                                                               | DB                            | Derived? | Notes                                                                                                         |
| -------------------------- | ----------- | ----------------------------------------------------------------------------------- | ----------------------------- | -------- | ------------------------------------------------------------------------------------------------------------- |
| `dependencies_initiatives` | str or JSON | ✅ Central only (edit: product; read-only for others; stored as initiative_keys/IDs) | ✅ (as relation / JSON helper) | ❌        | IDs/keys of prerequisite initiatives (e.g. `INIT-2025-002`); set by product, used in optimization constraints |
| `dependencies_others`      | str         | ✅ Intake (edit: requesters) + Central (edit: product; read-only for others)         | ✅                             | ❌        | Free-text dependencies on systems, vendors, legal, etc.                                                       |
| `is_mandatory`             | bool        | ✅ Intake (edit: requesters) + Central (edit: product; read-only for others)         | ✅                             | ❌        | Regulatory / contractual / must-do                                                                            |
| `risk_level`               | str (enum)  | ✅ Intake (edit: requesters) + Central (edit: product; read-only for others)         | ✅                             | ❌        | `Low`, `Medium`, `High`                                                                                       |
| `risk_description`         | str         | ✅ Intake (edit: requesters) + Central (edit: product; read-only for others)         | ✅                             | ❌        | Why risk level is high/medium/low                                                                             |
| `time_sensitivity`         | str (enum)  | ✅ Intake (edit: requesters) + Central (edit: product; read-only for others)         | ✅                             | ❌        | e.g. `Q1_only`, `Anytime`, `Before_Season`                                                                    |
| `deadline_date`            | date        | ✅ Intake (edit: requesters) + Central (edit: product; read-only for others)         | ✅                             | ❌        | Hard deadline if any                                                                                          |
These also feed into optimization constraints.

---

### H. Lifecycle & workflow

| Field                | Type       | Sheet                                                                                                                    | DB | Derived? | Notes                                                                                                |
| -------------------- | ---------- | ------------------------------------------------------------------------------------------------------------------------ | -- | -------- | ---------------------------------------------------------------------------------------------------- |
| `status`             | str (enum) | ✅ Intake (edit: requesters for limited statuses like `new`, `withdrawn`) + Central (edit: product; read-only for others) | ✅  | ❌        | e.g. `new`, `needs_info`, `under_review`, `approved_in_principle`, `rejected`, `in_progress`, `done` |
| `missing_fields`     | str        | ✅ Central only (read-only; auto-filled by backend validation; visible to product and others)                             | ✅  | ✅        | Generated by validation service (`"impact_expected, effort_tshirt_size"` etc.)                       |
| `created_at`         | datetime   | ❌ (may be optionally shown in a read-only, protected central view if needed)                                             | ✅  | ❌        | Set by backend                                                                                       |
| `updated_at`         | datetime   | ❌ (may be optionally shown in a read-only, protected central view if needed)                                             | ✅  | ❌        | For auditing                                                                                         |
| `created_by_user_id` | int/str    | ❌ (sheet uses `requester_*`; this is backend-only identity linkage)                                                      | ✅  | ❌        | If you later sync with an identity system                                                            |


status is visible/controllable from sheets; backend enforces allowed transitions.

---

### I. Scoring summary (framework-agnostic)

These are the numbers the optimizer eventually cares about.

| Field                      | Type       | Sheet                                                                                                      | DB | Derived? | Notes                                                                                              |
| -------------------------- | ---------- | ---------------------------------------------------------------------------------------------------------- | -- | -------- | -------------------------------------------------------------------------------------------------- |
| `active_scoring_framework` | str (enum) | ✅ Central only (edit: product; read-only for others)                                                       | ✅  | ❌        | e.g. `RICE`, `MATH_MODEL`, `HYBRID`                                                                |
| `value_score`              | float      | ✅ Central only (auto-computed by backend/frameworks; editable/override by product; read-only for others)   | ✅  | ✅        | Final numeric “value” score used in optimization (can be LLM/framework-computed then human-edited) |
| `effort_score`             | float      | ✅ Central only (auto-computed by backend/frameworks; editable/override by product; read-only for others)   | ✅  | ✅        | Final numeric effort score (normalized)                                                            |
| `overall_score`            | float      | ✅ Central only (auto-computed by backend or functions; editable/override by product; read-only for others) | ✅  | ✅        | Combined / normalized score (e.g. value/effort, ROI-style); can be overridden by product           |
| `score_llm_suggested`      | bool       | ✅ Central only (read-only; set by backend to indicate LLM involvement)                                     | ✅  | ✅        | Whether LLM provided primary suggestion for scoring inputs/initial scores                          |
| `score_approved_by_user`   | bool       | ✅ Central only (edit: product approvers; read-only for others)                                             | ✅  | ❌        | Whether a human (product) has reviewed & approved the scores                                       |

The details of scoring (RICE inputs, math model formula etc.) will live in separate tables (InitiativeScore, InitiativeMathModel) but the summary sits here.

Operational note: Active scores (`value_score`, `overall_score`, and `effort_score` when applicable) are derived from per-framework fields by Flow 2 based on `active_scoring_framework`. Per-framework fields include `rice_value_score`, `rice_overall_score`, `wsjf_value_score`, `wsjf_overall_score`. Flow 3 computes per-framework scores; Flow 2 activates them into the active fields.

---

### J. LLM & math-model hooks (high-level on Initiative)

| Field            | Type | Sheet                                                                                      | DB | Derived? | Notes                                                                  |
| ---------------- | ---- | ------------------------------------------------------------------------------------------ | -- | -------- | ---------------------------------------------------------------------- |
| `use_math_model` | bool | ✅ Central only (checkbox; edit: product; read-only for others)                             | ✅  | ❌        | Whether this initiative should be scored using full mathematical model |
| `llm_notes`      | str  | ✅ Central only (auto-filled by backend/LLM; product can edit/append; read-only for others) | ✅  | ✅        | Free-form notes from LLM (“Assuming X, Y, Z; main drivers are…” etc.)  |


**Note:** An initiative can have multiple math models (1:N relationship via `Initiative.math_models`), each targeting a specific KPI.
The actual math models (formulas, parameters, assumptions) sit in separate `InitiativeMathModel` entities.

---

# Notes:

## 1. Manual overrides of scoring on the sheet

I think we should let product team even manually edit all scoring related fields on the sheet.


LLM + framework calculations produce default / suggested values.

Product team can override in the central sheet.

Backend logic:

Always stores both:

computed_value_score, computed_effort_score, computed_overall_score,

and value_score, effort_score, overall_score (the “final” ones actually used).

If product edits the score cells on the sheet:

We treat those as final values.

We might set a flag `score_overridden_by_product = True` (planned/optional).

Optimizer uses the final `value_score` and `overall_score` when overridden.

This gives us:

Traceability: we still know what the models suggested.

Human control: product owns the final call.

Use consistent names: “Central Backlog” for the consolidated sheet, and “Product Ops” for the workbook with scoring inputs. Explicit per-framework fields referenced: `rice_value_score`, `rice_overall_score`, `wsjf_value_score`, `wsjf_overall_score`.

## 2. Scoring framework factory & value/effort/overall

framework factory for new frameworks… some give value+effort combined (RICE), others only value (MoSCoW, math model), etc.

We’re on the same wavelength.

Canonical outputs

Regardless of framework, our canonical scoring result should be:

value_score: float | None

effort_score: float | None

overall_score: float | None

Where:

Frameworks that only compute value (e.g. MoSCoW, pure math model):

Fill value_score, leave effort_score alone (or just reuse normalized effort from elsewhere).

overall_score can be computed downstream as value_score / effort_score or some f(value, effort).

Frameworks like RICE, that intrinsically combine value & effort:

Compute:

A value_score (combined Reach×Impact×Confidence),

An effort_score (normalized from Effort),

And overall_score (the RICE score itself = value/effort).

Framework factory / registry

We can implement:

A ScoringFramework interface (as I sketched earlier), and

A FrameworkFactory / registry that:

Stores available frameworks (name → implementation).

Allows configuration (e.g. product defines weights, components).

Potentially reads some framework definitions from DB (for “custom frameworks”), while still having Python classes for core ones.

Product team could:

Pick active framework(s) per initiative (active_scoring_framework).

Define new frameworks by:

Setting which components matter,

Their weights,

Whether effort is explicitly part of the formula or applied later.

For your math model framework:

It might output only value_score (expected value in £ or index).

We then combine it with effort scores in a separate step to compute overall_score or just let optimization handle value vs effort via capacity constraints.

And yes, we should let product edit all scoring-related fields on the central sheet (see next).

## 3. Linked_objectives now vs later Objective models

elaborate: Later, when you have proper Objective models, linked_objectives can become a relation. How?

Today (v1):

linked_objectives = JSON or comma-separated string in Initiative, e.g.:

["OBJ-2025-001", "Reduce churn", "OKR: Q2 Growth #3"]


The content might be:

Objective IDs (if they already exist),

Or just free text names.

Later (when you have proper objective models), you introduce:

Objective model (e.g. Business Objective, Product Objective):

id, objective_key, name, type, etc.

InitiativeObjective model (many-to-many link table):

initiative_id

objective_id

optional contribution_weight (how strongly this initiative supports that objective).

Migration path:

Create Objective and InitiativeObjective tables.

Write a one-off migration script:

Read each initiative’s linked_objectives JSON.

For each entry:

If it looks like a known objective key, link to that.

If it’s just free text, attempt to match (maybe with LLM or fuzzy matching) or create a new Objective placeholder.

Insert rows into Objective then InitiativeObjective.

Mark the old linked_objectives field as deprecated / read-only (keep it for history until you’re comfortable).

Result: the conceptual field linked_objectives becomes a proper relationship:

initiative.objectives

objective.initiatives

Without breaking your earlier data.